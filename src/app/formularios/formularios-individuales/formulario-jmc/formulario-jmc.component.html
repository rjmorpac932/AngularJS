<h1>Formulario - JMC</h1>
<nav id="nav-formulario-jmc">
    <ul>
        <li (click)="this.cambiarFormulario(this.tipoFormulario.REGISTRO)" id="{{this.tipoFormulario.REGISTRO}}"
            class="selected">Registro</li>
        <li (click)="this.cambiarFormulario(this.tipoFormulario.PARTIDA)" id="{{this.tipoFormulario.PARTIDA}}">Partida
        </li>
    </ul>
</nav>
<br>
@if(this.formularioSelected == this.tipoFormulario.REGISTRO){


<form [formGroup]="formularioRegistro" (ngSubmit)="registrarUsuario()">

    <label for="nombre">Nombre Completo:</label>
    <input type="text" name="nombre" placeholder="Nombre..." formControlName="nombre">
    @if(this.formularioRegistro.get("nombre")?.errors?.["required"]){
    <span>(Debes rellenar el campo con información)</span>
    }@else if (this.formularioRegistro.get("nombre")?.errors?.["minlength"]) {
    <span>(El nombre debe contener cómo mínimo 6 carácteres)</span>
    }

    <br>

    <label for="usuario">Usuario:</label>
    <input type="text" name="usuario" placeholder="Usuario..." formControlName="usuario">
    @if(this.formularioRegistro.get("usuario")?.errors?.["required"]){
    <span>(Debes rellenar el campo con información)</span>
    }@else if (this.formularioRegistro.get("usuario")?.errors?.["minlength"]) {
    <span>(El usuario debe contener cómo mínimo 6 carácteres)</span>
    }@else if (this.formularioRegistro.get("usuario")?.errors?.["maxlength"]) {
    <span>(El usuario debe contener cómo máximo 12 carácteres)</span>
    }

    <br>


    <label for="email">Correo Electrónico:</label>
    <input type="email" id="email" name="email" formControlName="email">

    @if (this.formularioRegistro.get('email')?.errors?.['required']) {
    <span>(El email es obligatorio)</span>
    }@else if (this.formularioRegistro.get("email")?.errors?.['emailMismatch']){
    <span>(Debe introducir un email válido)</span>
    }

    <br>

    <label for="password">Contraseña</label>
    <input type="password" name="password" placeholder="Contraseña..." formControlName="password">
    @if(this.formularioRegistro.get("password")?.errors?.["required"]){
    <span>(Debes rellenar el campo con información)</span>
    }@else if (this.formularioRegistro.get("password")?.errors?.["minlength"]) {
    <span>(La contraseña debe contener cómo mínimo 6 carácteres)</span>
    }@else if (this.formularioRegistro.get("password")?.errors?.["maxlength"]) {
    <span>(La contraseña debe contener cómo máximo 12 carácteres)</span>
    }

    <br>

    <label for="confirmPassword">Confirmar contraseña</label>
    <input type="password" name="confirmPassword" placeholder="Contraseña..." formControlName="confirmPassword">
    @if(this.formularioRegistro.get("confirmPassword")?.errors?.["required"]){
    <span>(Debes rellenar el campo con información)</span>
    }@else if (this.formularioRegistro.get("confirmPassword")?.errors?.["minlength"]) {
    <span>(La contraseña debe contener cómo mínimo 6 carácteres)</span>
    }@else if (this.formularioRegistro.get("confirmPassword")?.errors?.["maxlength"]) {
    <span>(La contraseña debe contener cómo máximo 12 carácteres)</span>
    }@else if (this.formularioRegistro.errors?.["passwordMismatch"]) {
    <span>(Las contraseñas no coinciden)</span>
    }

    <br>
    <button type="submit">Registrarme</button>
    <br>
</form>
}@else if (this.formularioSelected == this.tipoFormulario.PARTIDA && !this.isPartidaActiva) {

<form [formGroup]="formularioPartida" (ngSubmit)="comenzarPartida()">

    <label for="usuario1">Usuario 1:</label>
    <input type="text" name="usuario1" placeholder="Primer Usuario..." formControlName="usuario1">
    @if(this.formularioPartida.get("usuario1")?.errors?.["required"]){
    <span>(Debes rellenar el campo con información)</span>
    }@else if (this.formularioPartida.get("usuario1")?.errors?.["minlength"]) {
    <span>(El usuario debe contener cómo mínimo 6 carácteres)</span>
    }@else if (this.formularioPartida.get("usuario1")?.errors?.["maxlength"]) {
    <span>(El usuario debe contener cómo máximo 12 carácteres)</span>
    }

    <br>

    <label for="password1">Contraseña: </label>
    <input type="password1" name="password1" placeholder="Usuario 1 contraseña..." formControlName="password1">
    @if(this.formularioPartida.get("password1")?.errors?.["required"]){
    <span>(Debes rellenar el campo con información)</span>
    }@else if (this.formularioPartida.get("password1")?.errors?.["minlength"]) {
    <span>(La contraseña debe contener cómo mínimo 6 carácteres)</span>
    }@else if (this.formularioPartida.get("password1")?.errors?.["maxlength"]) {
    <span>(La contraseña debe contener cómo máximo 12 carácteres)</span>
    }

    <hr>

    <label for="usuario">Usuario 2:</label>
    <input type="text" name="usuario2" placeholder="Segundo Usuario..." formControlName="usuario2">
    @if(this.formularioPartida.get("usuario2")?.errors?.["required"]){
    <span>(Debes rellenar el campo con información)</span>
    }@else if (this.formularioPartida.get("usuario2")?.errors?.["minlength"]) {
    <span>(El usuario debe contener cómo mínimo 6 carácteres)</span>
    }@else if (this.formularioPartida.get("usuario2")?.errors?.["maxlength"]) {
    <span>(El usuario debe contener cómo máximo 12 carácteres)</span>
    }

    <br>

    <label for="password2">Contraseña: </label>
    <input type="password2" name="password2" placeholder="Usuario 2 contraseña..." formControlName="password2">
    @if(this.formularioPartida.get("password2")?.errors?.["required"]){
    <span>(Debes rellenar el campo con información)</span>
    }@else if (this.formularioPartida.get("password2")?.errors?.["minlength"]) {
    <span>(La contraseña debe contener cómo mínimo 6 carácteres)</span>
    }@else if (this.formularioPartida.get("password2")?.errors?.["maxlength"]) {
    <span>(La contraseña debe contener cómo máximo 12 carácteres)</span>
    }
    <br>
    <button type="submit">Comenzar</button>
    <br>

</form>

}@else if(this.formularioSelected == this.tipoFormulario.PARTIDA && this.isPartidaActiva){

<button (click)="salirPartida()">Salir Partida</button>
<br>
<div>
    <h2>Usuario 1: {{partidaActiva.nombreUsuario1}}</h2>
    <h3>Partidas Ganadas Jugador 1 -> {{partidaActiva.contador1}}</h3>
    <button (click)="this.partidaActiva.contador1 = this.partidaActiva.contador1 + 1">Ganar Partida</button>
</div>
<div>
    <h2>Usuario 2: {{partidaActiva.nombreUsuario2}}</h2>
    <h3>Partidas Ganadas Jugador 2 -> {{partidaActiva.contador2}}</h3>
    <button (click)="this.partidaActiva.contador2 = this.partidaActiva.contador2 + 1">Ganar Partida</button>
</div>
<br>
<button style="background-color: green;" (click)="guardarPartida()">Guardar Partida</button>
}